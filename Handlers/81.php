<?php 
/* ********************************************************************* 
 * Auto Generated Code - Do not Edit
 *
 * See http://51degrees.mobi/Support/Documentation/PHP#AutoGeneratedSourceCode for more details.
 *
 * ********************************************************************* */
/* --------------------------------------------------

This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0.

If a copy of the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.

This Source Code Form is “Incompatible With Secondary Licenses”, as defined by the Mozilla Public License, v. 2.0.
-------------------------------------------------- */

 function _H81($thisuseragent){
$patterns = array("#(?<=Mozilla/)[\d\.]+#" => 1,"#(?<=Skyfire/)[\d\.]+#" => 1,"#(?<=AppleWebKit/)[\d\.]+#" => 5,"#(?<=Safari/)[\d\.]+#" => 5,"#(?<=Version/)[\d\.]+#" => 5);
$ls = PHP_INT_MAX;
$segmentMatches = F51DRegexSegment($thisuseragent, $patterns);
$dl = array();
$testSegments = array();
$weights = array();
$uaCount=count($segmentMatches);
for($i = 0; $i < $uaCount; $i++)
{
	foreach ($segmentMatches[$i] as $currentThis)
	{
		foreach ($currentThis as $uaSeg => $ow)
		{
			$testSegments[$i][] = $uaSeg;
			$weights[$i] = $ow;
		}
	}
}
$segmentMatches = array($testSegments, $weights);
$va0 = array("5.0");$va1 = array("2.0");$va2 = array("530.17");$va3 = array("530.17");$va4 = array("4.0");
  $ns = E81($segmentMatches, array(array($va0[0]),array($va1[0]),array($va2[0]),array($va3[0]),array($va4[0])), $ls); if($ns <= $ls){if($ns < $ls){unset($dl);}$dl[] = array("18088","17295","18325","18092", "Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_5_7; en-us) AppleWebKit/530.17 (KHTML, like Gecko) Version/4.0 Safari/530.17 Skyfire/2.0");$ls = $ns;}
  $ns = E81($segmentMatches, array(array($va0[0]),array($va1[0]),array($va2[0]),array($va3[0]),array($va4[0])), $ls); if($ns <= $ls){if($ns < $ls){unset($dl);}$dl[] = array("18088","17295","18325","18092", "Mozilla/5.0(Macintosh; U; Intel Mac OS X 10_5_7; en-us) AppleWebKit/530.17 (KHTML, like Gecko) Version/4.0 Safari/530.17 Skyfire/2.0");$ls = $ns;}
  $ns = E81($segmentMatches, array(array($va0[0]),array($va1[0]),array($va2[0]),array($va3[0]),array($va4[0])), $ls); if($ns <= $ls){if($ns < $ls){unset($dl);}$dl[] = array("18088","17017","18325","18092", "Mozilla/5.0 (Macintosh; U; Intel MacOS X 10_5_7; en-us) AppleWebKit/530.17 (KHTML, like Gecko) Version/4.0 Safari/530.17 Skyfire/2.0");$ls = $ns;}
 return $dl;}
function E81(&$thisUA, $toTest, &$ls)
{
	$deviceTotal = 0;$uaCount=count($thisUA[0]);
	for($i = 0; $i < $uaCount; $i++){$segCount = count($thisUA[0][$i]);if($segCount != count($toTest[$i])){return PHP_INT_MAX;}
	for($ind = 0; $ind < $segCount; $ind++){$deviceTotal += (F51DEditDistance($thisUA[0][$i][$ind], $toTest[$i][$ind], $ls) * $thisUA[1][$i]);if($deviceTotal > $ls){return $deviceTotal;}}}
	return $deviceTotal;
}
 ?>
